
- include: validate.yml
  tags: agent_installer_validate

# - include: dependencies.yml
#   tags: agent_installer_dependencies

  # download to local ansible controller first
- include: download_local.yml
  when: agent_installer_download and agent_installer_download_mode == 'local'
  tags: agent_installer_download

  # download directly to remote host
- include: download_remote.yml
  when: agent_installer_download and agent_installer_download_mode == 'remote'
  tags: agent_installer_download

- include: check_install_required.yml
  tags: agent_installer_install

- include: install.yml
  tags: agent_installer_install
  when: agent_installer_install_required
